<script>
	export let data;
	
	// Debug: afficher la structure des donn√©es
	console.log('üîç Home page - data received:', data);
	console.log('üîç Home page - data.accueil:', data.accueil);
	console.log('üîç Home page - data.accueil?.Video:', data.accueil?.Video);
	console.log('üîç Home page - data.accueil keys:', Object.keys(data.accueil || {}));
	
	// Debug d√©taill√© pour la vid√©o
	if (data.accueil?.Video) {
		console.log('üîç Home page - Video structure:', data.accueil.Video);
		console.log('üîç Home page - Video.data:', data.accueil.Video.data);
		if (data.accueil.Video.data && data.accueil.Video.data.length > 0) {
			console.log('üîç Home page - First video:', data.accueil.Video.data[0]);
			console.log('üîç Home page - First video attributes:', data.accueil.Video.data[0].attributes);
		}
	}
</script>

<div class="home-hero">
  <!-- Fond vid√©o ou image -->
  {#if data.accueil?.Video?.[0]?.url}
    <video autoplay muted loop class="video">
      <source src={data.accueil.Video[0].url} type="video/mp4" />
    </video>
  {:else}
    <!-- Fallback si pas de vid√©o -->
    <div class="video-placeholder">
      <h1>Territoires Sensibles</h1>
      <p>Bienvenue sur notre site</p>
    </div>
  {/if}
  <div class="home-bg"></div>
</div>

<style lang="scss">
@use '../styles/_variables.scss' as *;
@use '../styles/_global.scss' as *;
@use '../styles/_layout.scss' as *;
@use '../styles/_components.scss' as *;


.home-hero {
  width: 100%;
  height: 100vh;
  overflow: hidden;
}

.video {
  width: 100%;
  height: 100%;
  object-fit: cover;
}

.video-placeholder {
  width: 100%;
  height: 100%;
  display: flex;
  flex-direction: column;
  justify-content: center;
  align-items: center;
  background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
  color: white;
  text-align: center;
  
  h1 {
    font-size: 3rem;
    margin-bottom: 1rem;
    font-weight: 700;
  }
  
  p {
    font-size: 1.2rem;
    opacity: 0.9;
  }
}
</style>
